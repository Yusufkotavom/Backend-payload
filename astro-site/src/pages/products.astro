---
import '../styles/tailwind.css'
import { fetchPayload } from '../lib/payload'

const data = await fetchPayload<{ docs: any[] }>('api/products?limit=10')
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Products</title>
  </head>
  <body class="min-h-screen bg-white text-gray-900">
    <main class="max-w-4xl mx-auto p-6">
      <h1 class="text-3xl font-bold mb-6">Products</h1>
      <ul class="grid md:grid-cols-2 gap-4">
        {data.docs.map((p) => (
          <li class="p-4 border rounded">
            <div class="font-semibold">{p.title}</div>
            {p.price && <div class="text-sm text-gray-600">${p.price}</div>}
          </li>
        ))}
      </ul>
    </main>
  </body>
</html>